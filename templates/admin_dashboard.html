{% extends "base.html" %}

{% block content %}
<div class="max-w-7xl mx-auto mt-10 px-8 py-6">
    <div class="mb-8 text-center">
        <h2 class="text-3xl font-bold text-pink-600">Admin Dashboard</h2>
        <p class="text-gray-600 mt-2">Manage pending vet clinic verifications</p>
    </div>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" role="alert">
                <span class="block sm:inline">{{ message }}</span>
            </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div class="bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200">
        <table class="min-w-full leading-normal">
            <thead>
                <tr class="bg-pink-50 text-pink-700 text-sm uppercase tracking-wider">
                    <th class="px-5 py-3 border-b-2 border-pink-200 text-left font-semibold">Clinic Name</th>
                    <th class="px-5 py-3 border-b-2 border-pink-200 text-left font-semibold">Email</th>
                    <th class="px-5 py-3 border-b-2 border-pink-200 text-left font-semibold">Location</th>
                    <th class="px-5 py-3 border-b-2 border-pink-200 text-left font-semibold">License No.</th>
                    <th class="px-5 py-3 border-b-2 border-pink-200 text-center font-semibold">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% if clinics %}
                    {% for clinic in clinics %}
                    <tr class="hover:bg-gray-50 border-b border-gray-200 bg-white text-sm">
                        <td class="px-5 py-5 text-gray-900 font-bold">
                            {{ clinic['clinic_name'] }}
                        </td>
                        <td class="px-5 py-5 text-gray-600">
                            {{ clinic['email'] }}
                        </td>
                        <td class="px-5 py-5 text-gray-600">
                            {{ clinic['clinic_location'] }}
                        </td>
                        <td class="px-5 py-5 text-gray-600">
                            <span class="bg-gray-100 text-gray-600 py-1 px-3 rounded-full text-xs font-bold">
                                {{ clinic['clinic_license'] }}
                            </span>
                        </td>
                        <td class="px-5 py-5 text-center">
                            <div class="flex justify-center space-x-2">
                                <a href="{{ url_for('approve_clinic', user_id=clinic['id']) }}" 
                                   class="bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded text-xs transition duration-300">
                                    Approve
                                </a>
                                <a href="{{ url_for('reject_clinic', user_id=clinic['id']) }}" 
                                   class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded text-xs transition duration-300"
                                   onclick="return confirm('Are you sure you want to reject this clinic application?');">
                                    Reject
                                </a>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="5" class="px-5 py-10 text-center text-gray-500 italic">
                            No pending clinic applications found.
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}