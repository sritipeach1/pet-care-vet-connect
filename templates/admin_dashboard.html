{% extends "base.html" %}

{% block content %}
<div class="text-center mb-8">
    <h2 class="text-3xl font-bold text-pink-600">Vet Clinic Admin Panel</h2>
    <p class="text-gray-500">manage vet clinic applications</p>
</div>

<div class="bg-white shadow-md rounded-lg mb-6 p-6 border-l-4 border-pink-500">
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold text-gray-800">Pending Applications</h3>
        <span class="bg-pink-100 text-pink-600 py-1 px-3 rounded-full text-xs font-bold uppercase">Needs Review</span>
    </div>
    
    {% if pending %}
        <table class="min-w-full text-left">
            <tbody class="divide-y divide-gray-100">
                {% for clinic in pending %}
                <tr>
                    <td class="py-3 font-medium text-gray-700">{{ clinic['clinic_name'] or clinic['name'] }}</td>
                    <td class="py-3 text-gray-500 text-sm">{{ clinic['email'] }}</td>
                    <td class="py-3 text-right">
                        <a href="{{ url_for('approve_clinic', user_id=clinic['id']) }}" class="text-white bg-green-500 hover:bg-green-600 px-3 py-1 rounded-full text-xs font-bold mr-2">Approve</a>
                        <a href="{{ url_for('reject_clinic', user_id=clinic['id']) }}" class="text-white bg-red-500 hover:bg-red-600 px-3 py-1 rounded-full text-xs font-bold">Reject</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="text-gray-400 italic text-sm">No pending applications.</p>
    {% endif %}
</div>

<div class="bg-white shadow-md rounded-lg mb-6 p-6 border-l-4 border-green-500">
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold text-gray-800">Approved Clinics</h3>
        <span class="bg-green-100 text-green-600 py-1 px-3 rounded-full text-xs font-bold uppercase">Active</span>
    </div>
    
    {% if approved %}
    <ul class="list-disc pl-5 text-gray-600">
        {% for clinic in approved %}
        <li>{{ clinic['clinic_name'] or clinic['name'] }} <span class="text-xs text-gray-400">({{ clinic['clinic_location'] }})</span></li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="text-gray-400 italic text-sm">No active clinics yet.</p>
    {% endif %}
</div>

<div class="bg-white shadow-md rounded-lg p-6 border-l-4 border-red-500">
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold text-gray-800">Rejected Applications</h3>
        <span class="bg-red-100 text-red-600 py-1 px-3 rounded-full text-xs font-bold uppercase">Declined</span>
    </div>
    
    {% if rejected %}
    <ul class="list-disc pl-5 text-gray-600">
        {% for clinic in rejected %}
        <li>{{ clinic['clinic_name'] or clinic['name'] }} <span class="text-xs text-gray-400">({{ clinic['email'] }})</span></li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="text-gray-400 italic text-sm">No rejected applications.</p>
    {% endif %}
</div>

<div class="grid grid-cols-3 gap-4 mt-8">
    <a href="{{ url_for('admin_view_list', status='pending') }}" 
       class="block bg-pink-700 hover:bg-pink-800 text-white text-center py-2 rounded-full font-bold shadow-lg transition duration-200">
        View Pending ({{ pending|length }})
    </a>

    <a href="{{ url_for('admin_view_list', status='approved') }}" 
       class="block bg-purple-600 hover:bg-purple-700 text-white text-center py-2 rounded-full font-bold shadow-lg transition duration-200">
        View Approved ({{ approved|length }})
    </a>

    <a href="{{ url_for('admin_view_list', status='rejected') }}" 
       class="block bg-gray-700 hover:bg-gray-800 text-white text-center py-2 rounded-full font-bold shadow-lg transition duration-200">
        View Rejected ({{ rejected|length }})
    </a>
</div>
{% endblock %}