<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Edit Clinic Profile</title>

    <style>
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.25);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }
        .modal-card {
            background: #fffdfb;
            border-radius: 18px;
            padding: 18px 22px;
            min-width: 260px;
            max-width: 340px;
            border: 1px solid #ffd7b0;
            box-shadow: 0 10px 24px rgba(0,0,0,0.12);
            text-align: center;
        }
        .modal-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #c2185b;
        }
        .modal-text {
            font-size: 13px;
            color: #8c4b6e;
            margin-bottom: 14px;
        }
        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        .modal-btn-primary,
        .modal-btn-cancel {
            padding: 6px 14px;
            border-radius: 16px;
            border: none;
            font-size: 13px;
            cursor: pointer;
        }
        .modal-btn-primary {
            background: #ff4f9a;
            color: #ffffff;
        }
        .modal-btn-cancel {
            background: #e3e3e3;
            color: #555;
        }
    </style>
</head>
<body style="background-color:#ffeaf5;font-family:'Segoe UI',Arial,sans-serif;">

<div style="max-width:600px;margin:30px auto;background:#ffeef8;
            border-radius:24px;padding:22px 26px;
            box-shadow:0 10px 24px rgba(0,0,0,0.06);">
    <h1 style="font-size:20px;color:#c2185b;margin-top:0;">
        Edit Clinic Profile
    </h1>
    <p style="font-size:13px;color:#b07e9d;margin-top:4px;">
        Update your clinicâ€™s basic information. These details appear on your dashboard and help pet owners trust your clinic.
    </p>

    {% if clinic %}
    <form method="post"
          onsubmit="event.preventDefault(); openClinicEditModal(this);"
          style="margin-top:10px;">

        <div style="margin-bottom:10px;">
            <label>Clinic Name:</label><br>
            <input type="text" name="name" required
                   value="{{ clinic['name'] }}"
                   style="width:100%;padding:6px 8px;border-radius:10px;border:1px solid #f0bfd9;">
        </div>

        <div style="margin-bottom:10px;">
            <label>License Number:</label><br>
            <input type="text" name="license_number" required
                   value="{{ clinic['license_number'] }}"
                   style="width:100%;padding:6px 8px;border-radius:10px;border:1px solid #f0bfd9;">
        </div>

        <div style="margin-bottom:10px;">
            <label>Email:</label><br>
            <input type="email" name="email" required
                   value="{{ clinic['email'] }}"
                   style="width:100%;padding:6px 8px;border-radius:10px;border:1px solid #f0bfd9;">
        </div>

        <div style="margin-bottom:10px;">
            <label>Contact Number:</label><br>
            <input type="text" name="contact_number" required
                   value="{{ clinic['contact_number'] }}"
                   style="width:100%;padding:6px 8px;border-radius:10px;border:1px solid #f0bfd9;">
        </div>

        <div style="margin-bottom:10px;">
            <label>Location:</label><br>

            {% set selected_location = clinic['location'] %}
            <select name="location" required
                    style="width:100%;padding:6px 8px;border-radius:10px;border:1px solid #c5d7f2;">
                {% include 'location_dropdown.html' %}
            </select>
        </div>



        <button type="submit"
                style="padding:7px 18px;border-radius:999px;border:none;
                       background:#ff4f9a;color:#fff;font-size:13px;">
            Save Changes
        </button>
        <a href="{{ url_for('clinic_dashboard', tab='clinic') }}"
           style="margin-left:8px;font-size:13px;text-decoration:none;color:#c2185b;">
            Cancel
        </a>
    </form>
    {% else %}
        <p>Clinic not found.</p>
    {% endif %}
</div>

<!-- Cute confirmation modal for editing clinic profile -->
<div id="clinic-edit-modal" class="modal-overlay" style="display:none;">
    <div class="modal-card">
        <div class="modal-title">Save changes?</div>
        <div class="modal-text">
            The updated details will replace the current information for this clinic.
        </div>
        <div class="modal-buttons">
            <button id="clinic-edit-confirm" class="modal-btn-primary">Save</button>
            <button id="clinic-edit-cancel" class="modal-btn-cancel">Cancel</button>
        </div>
    </div>
</div>

<script>
    let clinicEditForm = null;

    function openClinicEditModal(form) {
        clinicEditForm = form;
        document.getElementById('clinic-edit-modal').style.display = 'flex';
    }

    document.getElementById('clinic-edit-confirm').onclick = function () {
        if (clinicEditForm) {
            clinicEditForm.submit();
        }
    };

    document.getElementById('clinic-edit-cancel').onclick = function () {
        document.getElementById('clinic-edit-modal').style.display = 'none';
        clinicEditForm = null;
    };
</script>

</body>
</html>
